"use strict";const tabs=document.querySelectorAll(".profile__tab"),contents=document.querySelectorAll(".profile__content");tabs&&tabs.forEach(((e,t)=>{e.addEventListener("click",(()=>{tabs.forEach((e=>e.classList.remove("profile__tab-active"))),e.classList.add("profile__tab-active"),contents.forEach((e=>e.classList.remove("profile__content-active"))),contents[t].classList.add("profile__content-active")}))}));const editButton=document.getElementById("edit-button"),saveButton=document.getElementById("save-button"),inputs=document.querySelectorAll(".profile__form_group input"),profileInfo=document.querySelector(".profile__main-info_text");editButton&&saveButton&&(editButton.addEventListener("click",(()=>{inputs.forEach((e=>e.disabled=!1)),editButton.disabled=!0,editButton.style.display="none",saveButton.style.display="block",saveButton.disabled=!1})),saveButton.addEventListener("click",(()=>{profileInfo.innerHTML=`\n        <p>Имя: ${document.getElementById("first-name").value+" "+document.getElementById("last-name").value||"—"}</p>\n        <p>Дата рождения: ${document.getElementById("birthdate").value||"—"}</p>\n        <p>Телефон: ${document.getElementById("phone").value||"—"}</p>\n        <p>Электронная почта: ${document.getElementById("email").value||"—"}</p>\n        <p>Никнейм: ${document.getElementById("nickname").value||"—"}</p>\n    `,inputs.forEach((e=>e.disabled=!0)),saveButton.style.display="none",editButton.style.display="block",editButton.disabled=!1,saveButton.disabled=!0})));const avatar=document.getElementById("avatar"),fileInput=document.getElementById("file-input"),textInput=document.getElementById("input-text");avatar&&(avatar.parentElement.addEventListener("click",(()=>{fileInput.click()})),fileInput.addEventListener("change",(e=>{const t=e.target.files[0];if(t&&t.type.startsWith("image/")){const e=new FileReader;avatar.style.padding=0,e.onload=e=>{avatar.src=e.target.result},e.readAsDataURL(t),textInput.textContent="Изменить фото"}else alert("Пожалуйста, выберите изображение.")})));const formFooter=document.querySelector(".footer__form"),inputFooter=document.getElementById("email-footer"),thxMessageFooter=document.querySelector(".footer__form_thx");formFooter&&formFooter.addEventListener("submit",(function(e){e.preventDefault(),inputFooter.value="",thxMessageFooter.style.display="block",inputFooter.style.border="1px green solid",setTimeout((()=>{thxMessageFooter.style.display="none",inputFooter.style.border="1px solid #fff"}),5e3)}));const buttons=document.querySelectorAll(".button-catalog"),disableScroll=()=>body.style.overflow="hidden",enableScroll=()=>body.style.overflow="";if(buttons){buttons.forEach((e=>{e.addEventListener("click",(function(){const t=`modal-${e.dataset.id}`,o=document.getElementById(t);o&&(o.style.display="flex",document.body.style.overflow="hidden")}))}));document.querySelectorAll(".close-btn").forEach((e=>{e.addEventListener("click",(function(){e.closest(".modal-catalog").style.display="none",document.body.style.overflow=""}))})),window.addEventListener("click",(function(e){e.target.classList.contains("modal-catalog")&&(e.target.style.display="none",document.body.style.overflow="")}))}const loginButton=document.querySelector(".subheader__login-wrapper button"),loginButtonMobile=document.querySelector(".mobile-menu__login-wrapper button"),modalLogin=document.querySelector(".modal"),modalRegister=document.querySelector(".modal-register"),modalCloseButtons=document.querySelectorAll(".modal-close"),modalOverlays=document.querySelectorAll(".modal-overlay"),loginForm=document.querySelector("#login-form"),registerForm=document.querySelector("#register-form"),registerLink=document.querySelector("#register-link"),body=document.body;function setMinDate(e){const t=document.getElementById(e);if(t){const e=(new Date).toISOString().split("T")[0];t.min=e}}loginButton&&loginButton.addEventListener("click",(function(){modalLogin.classList.remove("hidden"),modalLogin.classList.add("show"),disableScroll()})),loginButtonMobile&&loginButtonMobile.addEventListener("click",(function(){modalLogin.classList.remove("hidden"),modalLogin.classList.add("show"),disableScroll()})),modalCloseButtons&&modalCloseButtons.forEach((e=>{e.addEventListener("click",(function(){modalLogin.classList.add("hidden"),modalRegister.classList.add("hidden"),enableScroll()}))})),modalOverlays&&modalOverlays.forEach((e=>{e.addEventListener("click",(function(){modalLogin.classList.add("hidden"),modalRegister.classList.add("hidden"),enableScroll()}))})),registerLink&&registerLink.addEventListener("click",(function(e){e.preventDefault(),modalLogin.classList.add("hidden"),modalRegister.classList.remove("hidden"),modalRegister.classList.add("show")})),modalLogin&&document.addEventListener("keydown",(function(e){"Escape"===e.key&&(modalLogin.classList.add("hidden"),modalRegister.classList.add("hidden"),enableScroll())})),loginForm&&loginForm.addEventListener("submit",(function(e){e.preventDefault();const t=document.querySelector("#username").value.trim(),o=document.querySelector("#password").value.trim();t&&o?window.location.href="./profile.html":alert("Введите логин и пароль!")})),registerForm&&registerForm.addEventListener("submit",(function(e){e.preventDefault();const t=document.querySelector("#reg-username").value.trim(),o=document.querySelector("#reg-password").value.trim();o===document.querySelector("#reg-password-apply").value.trim()?t&&o?(e.preventDefault(),alert("Вы успешно зарегистрировались! Теперь вы можете войти."),modalRegister.classList.add("hidden"),modalLogin.classList.remove("hidden"),document.querySelector("#reg-username").value=document.querySelector("#reg-password").value=document.querySelector("#reg-password-apply").value="",console.log("cleared")):alert("Введите логин и пароль для регистрации!"):alert("Пароли должны совпадать")})),setMinDate("date"),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".hamburger"),t=document.querySelector(".mobile-menu");e.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active")})),window.addEventListener("resize",(()=>{window.innerWidth>830&&(t.classList.remove("active"),e.classList.remove("active"))}))}));const toggleSwitch=document.querySelector('input[type="checkbox"'),toggleIcon=document.getElementById("toggle-icon"),currentTheme=localStorage.getItem("theme")||"light",subheader=document.querySelector(".subheader"),sections=document.querySelectorAll("section"),logoIcon=document.querySelectorAll(".icon-logo"),geoIcon=document.querySelectorAll(".icon-geo"),phoneIcon=document.querySelectorAll(".icon-phone"),emailIcon=document.querySelectorAll(".icon-email"),registrIcon=document.querySelectorAll(".reg-icon"),loginIcon=document.querySelectorAll(".log-icon"),toolIcon=document.querySelector(".tool-icon"),headsetIcon=document.querySelector(".headset-icon"),stopwatchIcon=document.querySelector(".stopwatch-icon"),gearIconText=document.querySelector(".title-light"),arrowUp=document.getElementById("arrow-up");function iconMode(e){[{elements:logoIcon,baseName:"logo"},{elements:geoIcon,baseName:"geo-location"},{elements:phoneIcon,baseName:"phone"},{elements:emailIcon,baseName:"email"},{elements:registrIcon,baseName:"register"},{elements:loginIcon,baseName:"login"},{elements:[arrowUp],baseName:"arrow-up"},{elements:[headsetIcon],baseName:"headset"},{elements:[stopwatchIcon],baseName:"stopwatch"},{elements:[toolIcon],baseName:"tools"}].forEach((({elements:t,baseName:o})=>{t.forEach((t=>{t&&(t.src=`icons/${o}-${e}.svg`)}))}))}const savedTheme=localStorage.getItem("theme")||"light";function toggleClass(e,t,o){e&&(o?e.classList.add(t):e.classList.remove(t))}function applyTheme(e){const t="dark"===e;document.documentElement.setAttribute("data-theme",e),toggleClass(subheader,"subheader-dark",t),toggleClass(gearIconText,"title-dark",t),sections.forEach((e=>{e&&toggleClass(e,`${e.classList[0]}-dark`,t)})),iconMode(e),toggleIcon.children[0].src=t?"icons/moon.svg":"icons/solar.svg"}toggleSwitch.checked="dark"===savedTheme,applyTheme(savedTheme),toggleSwitch.addEventListener("change",(()=>{const e=toggleSwitch.checked?"dark":"light";localStorage.setItem("theme",e),applyTheme(e)}));const slider=function(){const e=document.querySelectorAll(".slide");if(0===e.length)return;const t=document.querySelector(".slider-services__btn--left"),o=document.querySelector(".slider-services__btn--right"),n=document.querySelector(".dots");if(!t||!o||!n)return;let l=0;const c=e.length,s=function(e){document.querySelectorAll(".dots__dot").forEach((e=>e.classList.remove("dots__dot--active"))),document.querySelector(`.dots__dot[data-slide="${e}"]`).classList.add("dots__dot--active")},d=function(t){e.forEach(((e,o)=>e.style.transform=`translateX(${100*(o-t)}%)`))},r=function(){l===c-1?l=0:l++,d(l),s(l)},a=function(){0===l?l=c-1:l--,d(l),s(l)};d(0),e.forEach((function(e,t){n.insertAdjacentHTML("beforeend",`\n                <button class="dots__dot" data-slide="${t}" aria-label="Перейти к слайду ${t+1}"></button>\n            `)})),s(0),o.addEventListener("click",r),t.addEventListener("click",a),document.addEventListener("keydown",(function(e){"ArrowLeft"===e.key&&a(),"ArrowRight"===e.key&&r()})),n.addEventListener("click",(function(e){if(e.target.classList.contains("dots__dot")){const{slide:t}=e.target.dataset;d(t),s(t)}}));let i=0,u=0;e.forEach((e=>{e.addEventListener("touchstart",(function(e){i=e.changedTouches[0].screenX})),e.addEventListener("touchend",(function(e){u=e.changedTouches[0].screenX,u<i&&r(),u>i&&a()}))}))};document.querySelector(".slide")&&slider();const sliderMobile=function(){const e=document.querySelectorAll(".slide-mobile");if(0===e.length)return;const t=document.querySelector(".slider-mobile__btn--left"),o=document.querySelector(".slider-mobile__btn--right"),n=document.querySelector(".dots-mobile");if(!t||!o||!n)return;let l=0;const c=e.length,s=function(e){document.querySelectorAll(".dots-mobile__dot").forEach((e=>e.classList.remove("dots-mobile__dot--active"))),document.querySelector(`.dots-mobile__dot[data-slide="${e}"]`).classList.add("dots-mobile__dot--active")},d=function(t){e.forEach(((e,o)=>e.style.transform=`translateX(${100*(o-t)}%)`))},r=function(){l===c-1?l=0:l++,d(l),s(l)},a=function(){0===l?l=c-1:l--,d(l),s(l)};d(0),e.forEach((function(e,t){n.insertAdjacentHTML("beforeend",`\n                <button class="dots-mobile__dot" data-slide="${t}" aria-label="Перейти к слайду ${t+1}"></button>\n            `)})),s(0),o.addEventListener("click",r),t.addEventListener("click",a),document.addEventListener("keydown",(function(e){"ArrowLeft"===e.key&&a(),"ArrowRight"===e.key&&r()})),n.addEventListener("click",(function(e){if(e.target.classList.contains("dots-mobile__dot")){const{slide:t}=e.target.dataset;d(t),s(t)}}));let i=0,u=0;e.forEach((e=>{e.addEventListener("touchstart",(function(e){i=e.changedTouches[0].screenX})),e.addEventListener("touchend",(function(e){u=e.changedTouches[0].screenX,u<i&&r(),u>i&&a()}))}))};document.querySelector(".slide-mobile")&&sliderMobile();